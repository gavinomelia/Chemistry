defmodule Chemistry do
  def go do
    element_map = %{
      Hydrogen: 1.00794,
      Helium: 4.002602,
      Lithium: 6.941,
      Beryllium: 9.012182,
      Boron: 10.811,
      Carbon: 12.0107,
      Nitrogen: 14.0067,
      Oxygen:  15.99943,
      Fluorine:  18.9984032,
      Neon:  20.1797,
      Sodium:  22.98976928,
      Magnesium: 24.3050,
      Aluminium: 26.9815386,
      Silicon: 28.0855,
      Phosphorus:  30.973762,
      Sulfur:  32.065,
      Chlorine:  35.453,
      Argon: 39.948,
      Potassium: 39.0983,
      Calcium: 40.078,
      Scandium:  44.955912,
      Titanium:  47.867,
      Vanadium:  50.9415,
      Chromium:  51.9961,
      Manganese: 54.938045,
      Iron:  55.845,
      Cobalt:  58.933195,
      Nickel:  58.6934,
      Copper:  63.546,
      Zinc:  65.409,
      Gallium: 69.723,
      Germanium: 72.64,
      Arsenic: 74.92160,
      Selenium:  78.96,
      Bromine: 79.904,
      Krypton: 83.798,
      Rubidium:  85.4678,
      Strontium: 87.62,
      Yttrium: 88.90585,
      Zirconium: 91.224,
      Niobium: 92.90638,
      Molybdenum:  95.94,
      Technetium:  98.9063,
      Ruthenium: 101.07,
      Rhodium: 102.90550,
      Palladium: 106.42,
      Silver:  107.8682,
      Cadmium: 112.411,
      Indium:  114.818,
      Tin: 118.710,
      Antimony:  121.760,
      Tellurium: 127.60,
      Iodine:  126.90447,
      Xenon: 131.293,
      Caesium: 132.9054519,
      Barium:  137.327,
      Lanthanum: 138.90547,
      Cerium:  140.116,
      Praseodymium:  140.90765,
      Neodymium: 144.242,
      Promethium:  146.9151,
      Samarium:  150.36,
      Europium:  151.964,
      Gadolinium:  157.25,
      Terbium: 158.92535,
      Dysprosium:  162.500,
      Holmium: 164.93032,
      Erbium:  167.259,
      Thulium: 168.93421,
      Ytterbium: 173.04,
      Lutetium:  174.967,
      Hafnium: 178.49,
      Tantalum:  180.9479,
      Tungsten:  183.84,
      Rhenium: 186.207,
      Osmium:  190.23,
      Iridium: 192.217,
      Platinum:  195.084,
      Gold:  196.966569,
      Mercury: 200.59,
      Thallium:  204.3833,
      Lead:  207.2,
      Bismuth: 208.98040,
      Polonium:  208.9824,
      Astatine:  209.9871,
      Radon: 222.0176,
      Francium:  223.0197,
      Radium:  226.0254,
      Actinium:  227.0278,
      Thorium: 232.03806,
      Protactinium:  231.03588,
      Uranium: 238.02891,
      Neptunium: 237.0482,
      Plutonium: 244.0642,
      Americium: 243.0614,
      Curium:  247.0703,
      Berkelium: 247.0703,
      Californium: 251.0796,
      Einsteinium: 252.0829,
      Fermium: 257.0951,
      Mendelevium: 258.0986,
      Nobelium:  259.1009,
      Lawrencium:  260.1053,
      Rutherfordium: 261.1087,
      Dubnium: 262.1138,
      Seaborgium:  263.1182,
      Bohrium: 262.1229,
      Hassium: 265,
      Meitnerium:  266,
      Darmstadtium:  269,
      Roentgenium: 272,
      Ununbium:  285,
      Ununtrium: 284,
      Ununquadium: 289,
      Ununpentium: 288,
      Ununhexium:  293,
      Ununseptium: 294,
      Ununoctium:  294
    }

    element = IO.gets("What element do you have? ") |> String.strip |> String.capitalize |> String.to_atom
    grams = IO.gets("How many grams do you have? ") |> String.strip |> String.replace_suffix("", ".0") |> String.to_float
    amu = element_map[element]
    moles = grams / amu
    answer = Float.to_string moles * (6.02 * :math.pow(10, 23)), [scientific: 2]
    IO.puts "There are #{answer} atoms in your sample."
  end
end
